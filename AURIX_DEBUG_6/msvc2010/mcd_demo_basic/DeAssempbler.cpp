//****************************************************************************
// @Module        Tricore De-Assembler implementation
// @Filename      DeAssembler.cpp
// @Project       AurixDebugger
//----------------------------------------------------------------------------
// @Controller    Infineon TC275 Lite Kit
//
// @Compiler
//
// @Codegenerator
//
// @Description   This file contains low level functions to implement the
//                  De-assembler functionality for Tricore.
//
// @Link          tbd
//
//----------------------------------------------------------------------------
// @Date          05/05/2021
//
//****************************************************************************




//****************************************************************************
// @Project Includes
//****************************************************************************

#include <stdio.h>
#include <string.h>
#include "Tricore1_6.h"

//****************************************************************************
// @Macros
//****************************************************************************


//****************************************************************************
// @Defines
//****************************************************************************


//****************************************************************************
// @Typedefs
//****************************************************************************


//****************************************************************************
// @Imported Global Variables
//****************************************************************************


//****************************************************************************
// @Global Variables
//****************************************************************************


//****************************************************************************
// @External Prototypes
//****************************************************************************


//****************************************************************************
// @Prototypes Of Local Functions
//****************************************************************************



//****************************************************************************
// @Function     GetInstructionMnemonic
//
//----------------------------------------------------------------------------
// @Description   Print the instruction de-assembler details.
//
//----------------------------------------------------------------------------
// @Returnvalue   None
//
//----------------------------------------------------------------------------
// @Parameters    None
//
//----------------------------------------------------------------------------
// @Link          tbd
//----------------------------------------------------------------------------
// @Date          05/05/2021
//
//****************************************************************************
//-------------------------------------------------------------------------------------------------
// Mnemonic Opcode Identification
void GetInstructionMnemonic(uint32_t uiInstruction)
{
	bool bFoud=false;
	uint32_t uiOpcode = uiInstruction&0xFF;	// isolate the opcode byte
	int i=0;

	for (int i=0; ( (i<NUMOPCODES) && !bFoud); i++)
	{
		if ( (uiOpcode == tc16[i].uiOpCode) && (uiInstruction&tc16[i].uiOpCode) == tc16[i].uiOpCode)
		{
			bFoud = true;
			printf("(%s - %s - %s)", tc16[i].sInStr, tc16[i].sLongName, tc16[i].sSyntax);
			break;
		}
	}
	if (!bFoud)
		printf("[Opcode not known - file 'Tricore1_6.h' need to be extended]");
}







//****************************************************************************
// @Local Functions
//****************************************************************************




//****************************************************************************
//                                 END OF FILE
//****************************************************************************
